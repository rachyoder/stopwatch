<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <title>Simple setInterval clock</title>
    <style>
        p {
            font-family: sans-serif;
        }
    </style>
</head>

<body>
    <p class="clock"></p>
    <button class="start" type="button">Start</button>
    <button class="stop" type="button">Stop</button>
    <br>
    <button class="reset" type="button">Reset</button>
    <script>
        // var _this = this;
        // var interval = null;
        // var totalTimePassed = null;
        // var startTimeMain = null;
        // console.log(this);
        
        // document.querySelector('.start').onclick = function () {
        //     //console.log(this);
        //     var startTime = Date.now();
        //     startTimeMain = startTime;
        //     var self = this;
        //     _this.interval = setInterval(function () {
        //         //console.log(this);
        //         var nowTime = Date.now() - startTime;
        //         if(totalTimePassed != null){
        //             nowTime += _this.totalTimePassed;
        //             totalTimePassed = null;
        //             _this.startTimeMain = null;
        //         }
        //         dateCount = new Date(nowTime);

        //         hours = Math.round(dateCount / 1000 / 60 / 60);
        //         minutes = dateCount.getMinutes();
        //         seconds = dateCount.getSeconds();

        //         function doubleDigit(number) {
        //             if (number < 10) {
        //                 return '0' + number;
        //             } else {
        //                 return number;
        //             }
        //         }
        //         hours = doubleDigit(hours);
        //         minutes = doubleDigit(minutes);
        //         seconds = doubleDigit(seconds);
        //         document.querySelector('.clock').textContent = hours + ":" + minutes + ":" + seconds;
                
        //     }, 1000);
        // }
        // document.querySelector('.stop').onclick = function() {
        //     console.log(this);
        //     totalTimePassed = Date.now() - startTimeMain;
        //     clearInterval(interval);
        // }
        var startTime = Date.now();

        document.querySelector(".start").addEventListener("click",runInterval);

        function runInterval() {
            //console.log("test");

            var  interval = setInterval(function() {
                var nowTime = Date.now() - startTime;
                //console.log(nowTime);

                dateCount = new Date(nowTime);

                hours = Math.round(dateCount / 1000 / 60 /60);
                minutes = dateCount.getMinutes();
                seconds = dateCount.getSeconds();

                function doubleDigit(num) {
                    if (num < 10) {
                        return '0' + num;
                    } else {
                        return num;
                    }
                }

                hours = doubleDigit(hours);
                minutes = doubleDigit(minutes);
                seconds = doubleDigit(seconds);

                document.querySelector(".clock").textContent = hours + ":" + minutes + ":" + seconds;
            }, 1000); 
        }
    
    </script>
</body>

</html>